<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Modifier</title>
  <style>
    #editForm {
      display: none;
      margin-top: 20px;
    }
    .publication {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <div class="publication">
    <h3 class="publication-title">Titre original</h3>
    <p class="publication-text">Texte original de la publication</p>
    <button onclick="editPost(this)">Modifier</button>
  </div>

  <div id="editForm">
    <h3>Modifier la publication</h3>
    <form id="updatePostForm">
      <input type="text" id="editTitle" required><br><br>
      <textarea id="editText" required></textarea><br><br>
      <button type="submit">Mettre Ã  jour</button>
      <button type="button" onclick="hideEditForm()">Annuler</button>
    </form>
  </div>

  <script>
    function editPost(button) {
      const publication = button.closest('.publication');
      const title = publication.querySelector('.publication-title').innerText;
      const text = publication.querySelector('.publication-text').innerText;

      document.getElementById('editTitle').value = title;
      document.getElementById('editText').value = text;

      document.getElementById('editForm').style.display = 'block';
      window.currentEditingPost = publication;
    }

    function hideEditForm() {
      document.getElementById('editForm').style.display = 'none';
      window.currentEditingPost = null;
    }

    document.getElementById('updatePostForm').addEventListener('submit', function(e) {
      e.preventDefault();

      if (window.currentEditingPost) {
        const newTitle = document.getElementById('editTitle').value;
        const newText = document.getElementById('editText').value;

        window.currentEditingPost.querySelector('.publication-title').innerText = newTitle;
        window.currentEditingPost.querySelector('.publication-text').innerText = newText;

        hideEditForm();
      }
    });
  </script>

</body>
</html>
